<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JS annotation test</title>

	<!-- Annotator -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
	<script src="http://ovap-dev01.chs.harvard.edu/lib/annotator/annotator.min.js"></script>
	<link rel="stylesheet" href="http://ovap-dev01.chs.harvard.edu/lib/annotator/annotator.min.css">

	<!--video-js-->
	<link href="http://vjs.zencdn.net/4.1/video-js.css" rel="stylesheet">
	<script src="http://ovap-dev01.chs.harvard.edu/lib/video-js/video.dev.js"></script>
	
	<!--Youtube Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/lib/video-js/vjs.youtube.js"></script>
	
	<!--RangeSlider Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/release/rangeslider-videojs/v0.1/rangeslider.min.js"></script>
	<link href="http://ovap-dev01.chs.harvard.edu/release/rangeslider-videojs/v0.1/rangeslider.min.css" rel="stylesheet">
	
	<!--Share Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/release/share-annotator/v0.1/share-annotator.min.js"></script>
	<link href="http://ovap-dev01.chs.harvard.edu/release/share-annotator/v0.1/share-annotator.min.css" rel="stylesheet">

	<!--Geolocation Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/release/geolocation-annotator/v0.1/geolocation-annotator.min.js"></script>
	<link href="http://ovap-dev01.chs.harvard.edu/release/geolocation-annotator/v0.1/geolocation-annotator.min.css" rel="stylesheet">
	
	<!--RichText Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/lib/tinymce/tinymce.min.js"></script>
        <script src="http://ovap-dev01.chs.harvard.edu/release/richText-annotator/v0.1/richText-annotator.min.js"></script>
        <link href="http://ovap-dev01.chs.harvard.edu/release/richText-annotator/v0.1/richText-annotator.min.css" rel="stylesheet">

	<!--OpenVideoAnnotation Pluging-->
	<script src="http://ovap-dev01.chs.harvard.edu/release/OpenVideoAnnotation/v0.1/ova.min.js"></script>
	<link href="http://ovap-dev01.chs.harvard.edu/release/OpenVideoAnnotation/v0.1/ova.min.css" rel="stylesheet">

	<!--Demo CSS-->
	<link href="http://ovap-dev01.chs.harvard.edu/demo.css" rel="stylesheet">
  </head>

  <body style="margin:10px">
    <header>
      <h1>Javascript annotation service test</h1>
    </header>
    
    <div id="controls">
      <h3>Controls</h3>
      <p>
        <input id="username" value="Mark">
      </p>
    </div>

    <div id="airlock">
      <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>
	<video id="vid1" class="video-js vjs-default-skin" controls preload="none" width="640" height="264"
	poster="http://video-js.zencoder.com/oceans-clip.png"
	data-setup=''>
		<source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4' />
		<source src="http://video-js.zencoder.com/oceans-clip.webm" type='video/webm' />
		<source src="http://video-js.zencoder.com/oceans-clip.ogv" type='video/ogg' />
		<track kind="captions" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
	</video>
	<br />
	The same video, but with different annotations:
	<br />
	<video id="vid2" class="video-js vjs-default-skin" controls preload="none" width="640" height="264"
	poster="http://video-js.zencoder.com/oceans-clip.png"
	data-setup=''>
		<source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4' />
		<source src="http://video-js.zencoder.com/oceans-clip.webm" type='video/webm' />
		<source src="http://video-js.zencoder.com/oceans-clip.ogv" type='video/ogg' />
		<track kind="captions" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
	</video>
	<br />
	And you could use youtube video:
	<br />
	<video id="vid3" class="video-js vjs-default-skin" controls preload="none" width="640" height="264"
	data-setup=''>
		<source src="http://www.youtube.com/watch?v=-m_S-IDs3Wg" type="video/youtube">
	</video>
    </div>

    <script>
    	//Options to load in Open Video Annotation, for all the plugins
    	var options = {
    		optionsAnnotator: {
				user: { },
				
				store: {
					// The endpoint of the store on your server.
					prefix: 'http://danielcebrian.com/annotations/api',
					
					/*urls: {
						// These are the default URLs.
						create:  '/create',
						read:    '/read/:id',
						update:  '/update/:id',
						destroy: '/destroy/:id',
						search:  '/search'
					},*/
					// Attach the uri of the current page to all annotations to allow search.
					annotationData: {
						'uri': 'http://danielcebrian.com/annotations/demo.html'
					},

					// This will perform a "search" action rather than "read" when the plugin
					// loads. Will request the last 20 annotations for the current url.
					// eg. /store/endpoint/search?limit=20&uri=http://this/document/only
					loadFromSearch: {
						'limit': 10000,
						'uri': 'http://danielcebrian.com/annotations/demo.html'
					}
				}
			},
			optionsVideoJS: {techOrder: ["html5","flash","youtube"]},
			optionsRS: {},
    		optionsOVA: {posBigNew:'none',NumAnnotations:20},
    	}
    	//Load the plugin Open Video Annotation
		var ova = new OpenVideoAnnotation.Annotator($('#airlock'),options);
		
		//change the user (Experimental)
		ova.setCurrentUser($('#username').val());
		$('#username').change(function () {
			ova.setCurrentUser($(this).val());
		});
    </script>
  </body>


</html>
